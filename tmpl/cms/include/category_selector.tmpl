<mt:setvarblock name="js_include" append="1">
<script type="text/javascript">
<!--
    /* <![CDATA[ */
        MT.App.categoryList = <$mt:if name="category_tree"><$mt:var name="category_tree" to_json="1" regex_replace="/(s)(cript)/ig","$1\\$2"$><mt:else>[]</mt:if>;
        Template.templates.categorySelectorList = '<mt:section encode_js="1">
                [# if ( item.path == null ) item.path = [] #]
                <div class="row" style="text-align:left; margin-left:[#= item.path.length * 10 #]px">
                    <div class="col pl-0" style="width: [#= 165 - (item.path.length * 10) #]px;">
                        <input type="<mt:if name="object_type" eq="page">radio<mt:else>checkbox</mt:if>" name="<mt:if name="object_type" eq="entry">add_</mt:if>category_id<mt:if name="object_type" eq="entry">_[#= item.id #]</mt:if>" class="add-category-checkbox" <mt:if name="category_is_selected">checked="checked"</mt:if> /> [#|h item.label #]
                    </div>
                <mt:if name="can_edit_categories">
                    <div class="col">
                        <a href="javascript:void(0);" mt:id="[#= item.id #]" mt:command="show-add-category" class="float-right add-category-new-link">
                            <mtapp:svgicon id="ic_add" title="Add">
                        </a>
                    </div>
                </mt:if>
                </div>
        </mt:section>';
        Template.templates.categorySelectorAddForm = '<mt:section encode_js="1">
<mt:if name="object_type" eq="entry">
        [# div.className="add-category-form form-inline"; div.style.display = "none" #]<input id="add-category-input-movable" class="form-control form-control-sm add-category-input input-hint" type="text" value="" placeholder="[#|h trans( "Add sub category" ) #]" style="width: 8rem;" /> <a href="javascript:void(0);" mt:command="add" class="add-category-save-link"><mtapp:svgicon id="ic_add" title="Add"></a><a href="javascript:void(0);" mt:command="cancel" class="add-category-cancel-link"><mtapp:svgicon id="ic_remove" title="Cancel"></a>
<mt:else>
        [# div.className="add-category-form form-inline"; div.style.display = "none" #]<input id="add-category-input-movable" class="form-control form-control-sm add-category-input input-hint" type="text" value="" placeholder="[#|h trans( "Add sub folder" ) #]" style="width: 8rem;" /> <a href="javascript:void(0);" mt:command="add" class="add-category-save-link"><mtapp:svgicon id="ic_add" title="Add"></a><a href="javascript:void(0);" mt:command="cancel" class="add-category-cancel-link"><mtapp:svgicon id="ic_remove" title="Cancel"></a>
</mt:if>
        </mt:section>';
    <mt:ignore>
        <__trans phrase="Cancel">
    </mt:ignore>
    /* ]]> */
-->
</script>
</mt:setvarblock>

<div id="<$mt:var name="container_type" lower_case="1"$>-selector" class="category-selector" style="display: none;">
<mt:if name="object_type" eq="entry">
    <mt:if name="can_edit_categories">
    <div class="text-right category-selector-header">
        <a class="add-category-new-parent-link" mt:command="show-add-category" href="javascript:void(0);" title="<$mt:var name="add_new_container_label_parent"$>">
            <mtapp:svgicon id="ic_add" title="<__trans phrase="Add">"><__trans phrase="Add">
        </a>
    </div>
    </mt:if>
</mt:if>
<mt:if name="can_edit_categories">
    <div id="add-category-form" class="form-inline add-category-form" style="display: none;">
        <input id="add-category-input" class="form-control add-category-input input-hint" type="text" value="" placeholder="<$mt:var name="container_label_name"$>" />
        <a href="javascript:void(0);" mt:command="add" class="add-category-save-link">
          <mtapp:svgicon id="ic_add" title="<__trans phrase="Add">">
        </a>
        <a href="javascript:void(0);" mt:command="cancel" class="add-category-cancel-link">
          <mtapp:svgicon id="ic_remove" title="<__trans phrase="Cancel">">
        </a>
    </div>
</mt:if>
    <div class="card" style="height: 120px; overflow: auto; overflow-x: hidden;">
      <div id="<$mt:var name="container_type" lower_case="1"$>-selector-list" class="card-block category-selector-list"></div>
    </div>
</div><!-- /category-selector -->
