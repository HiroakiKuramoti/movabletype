<mt:unless name="json">
<mt:ignore>
<!--
parameters:
    panel_type (blog, author, role, group)
    panel_title
    panel_label
    items_prompt
    panel_description

    panel_multi (multiple selection or not)
    panel_searchable
    panel_last
    panel_first

    object_loop
        id
        label
        description
        disabled (row is shown, but unselectable)
-->
</mt:ignore>

<!-- Listing Panel -->
<div id="<mt:var name="panel_type">-panel" style="display: none;">
<mt:if name="use_page_content">
  <div class="panel-body">
</mt:if>

  <div class="panel-header">
  <mt:if name="panel_title">
    <h4 class="title"><mt:var name="panel_title"></h4>
  </mt:if>
  <mt:if name="panel_has_steps">
    <div class="text-right"><__trans phrase="Step [_1] of [_2]" params="<mt:var name="panel_number">%%<mt:var name="panel_total">"></div>
  </mt:if>
  <mt:if name="panel_multi">
    <div class="selected-items">
      <span class="modal_added"><mt:var name="items_prompt">:</span> <span class="items"></span>
    </div>
  </mt:if>
  </div>

<mt:if name="panel_searchable">
  <form action="" method="get" id="modal-search" class="form-inline">
    <input type="text" class="form-control search-input text med" value="" placeholder="<__trans phrase="Search">" />
    <input type="image" class="search-command search-submit" src="<$mt:var name="static_uri"$>images/search-submit-dialog.png" title="<__trans phrase="Search">" />
    <a href="javascript:void(0)" class="search-reset" style="display: none;"><__trans phrase="Reset"></a>
  </form>
</mt:if>

  <div id="selector" class="selector listing list-data<mt:if name="panel_multi"> list-multi</mt:if>">
    <form action="" method="get" onsubmit="return false">
      <table class="table mt-table">
        <thead>
          <tr>
            <th class="head cb mt-table__control">
          <mt:if name="panel_multi">
              <label class="custom-control custom-checkbox">
                <input type="checkbox" value="all" class="custom-control-input select" />
                <span class="custom-control-indicator"></span>
              </label>
          <mt:else>
              &nbsp;
          </mt:if>
            </th>
            <th class="head panel-label primary" scope="col"><span class="col-label"><mt:var name="panel_label"></span></th>
            <th class="head panel-description primary" scope="col"><span class="col-label"><mt:var name="panel_description"></span></th>
          </tr>
        </thead>
</mt:unless>

<mt:if name="object_loop">
        <tbody>
        <mt:loop name="object_loop">
          <mt:unless name="disabled">
          <tr id="<mt:var name="panel_type">-<mt:var name="id">" class="<mt:if name="__odd__">odd<mt:else>even</mt:if><mt:if name="has_child"> has_child</mt:if>">
            <td class="cb">
              <label class="custom-control custom-<mt:if name="panel_multi">checkbox<mt:else>radio</mt:if>">
                <input type="<mt:if name="panel_multi">checkbox<mt:else>radio</mt:if>" class="custom-control-input select" name="<mt:var name="panel_type">-cb" value="<mt:var name="id">" />
                <span class="custom-control-indicator"></span>
              </label>
            </td>
            <td class="panel-label">
              <mt:if name="has_child"><a data-toggle="collapse" href="#blog-<mt:var name="id">-child" aria-expanded="false" aria-controls="collapseExample"></mt:if>
              <label><mt:var name="label" escape="html"><mt:if name="has_child">(<$mt:var name="child_site_count"$>)</mt:if></label>
              <mt:if name="has_child"></a></mt:if>
              <mt:if name="has_child">
              <table class="collapse" id="blog-<mt:var name="id">-child">
                <mt:loop name="child_sites">
                <tr id="<mt:var name="panel_type">-<mt:var name="id">" class="<mt:if name="__odd__">odd<mt:else>even</mt:if>">
                  <td class="cb"><input type="<mt:if name="panel_multi">checkbox<mt:else>radio</mt:if>" class="select" name="<mt:var name="panel_type">-cb" value="<mt:var name="id">" /></td>
                  <td class="panel-label"><label><mt:var name="label" escape="html"></label></td>
                  <td class="panel-description">
                    <mt:if name="link"><span class="view-site-link"><a href="<mt:var name="link" escape="html">" target="_blank"><img src="<mt:var name="static_uri">images/spacer.gif" title="<__trans phrase="Go to [_1]" params="<mt:var name="label" escape="html" escape="html">">" width="13" height="9" alt="" /></a></span></mt:if>
                    <mt:if name="link"><span class="float_desc"></mt:if><mt:var name="description" remove_html="1"><mt:if name="link"></span></mt:if>
                  </td>
                </tr>
                </mt:loop>
                </table>
              </mt:if>
            </td>
            <td class="panel-description">
            <mt:ignore><!-- No, the duplicate escape modifiers below is not a typo. --></mt:ignore>
              <mt:if name="link"><span class="view-site-link"><a href="<mt:var name="link" escape="html">" target="_blank"><img src="<mt:var name="static_uri">images/spacer.gif" title="<__trans phrase="Go to [_1]" params="<mt:var name="label" escape="html" escape="html">">" width="13" height="9" alt="" /></a></span></mt:if>
              <mt:if name="link"><span class="float_desc"></mt:if><mt:var name="description" remove_html="1"><mt:if name="link"></span></mt:if>
            </td>
          </tr>
        <mt:if name="blogs">
        <mt:loop name="blogs">
          <tr id="<mt:var name="panel_type">-<mt:var name="id">" class="<mt:if name="__odd__">odd<mt:else>even</mt:if>">
            <td class="cb">
              <label class="custom-control custom-<mt:if name="panel_multi">checkbox<mt:else>radio</mt:if>">
                <input type="<mt:if name="panel_multi">checkbox<mt:else>radio</mt:if>" class="custom-control-input select" name="<mt:var name="panel_type">-cb" value="<mt:var name="id">" />
                <span class="custom-control-indicator"></span>
              </label>
            </td>
            <td class="panel-label sub-label"><label><mt:var name="label" escape="html"></label></td>
            <td class="panel-description">
            <mt:Ignore><!-- No, the duplicate escape modifiers below is not a typo. --></mt:Ignore>
              <mt:if name="link"><span class="view-site-link"><a href="<mt:var name="link" escape="html">" target="_blank"><img src="<mt:var name="static_uri">images/spacer.gif" title="<__trans phrase="Go to [_1]" params="<mt:var name="label" escape="html" escape="html">">" width="13" height="9" alt="" /></a></span></mt:if>
              <mt:if name="link"><span class="float_desc"></mt:if><mt:var name="description" remove_html="1"><mt:if name="link"></span></mt:if>
            </td>
          </tr>
        </mt:loop>
        </mt:if>
          </mt:unless>
        </mt:loop>
        </tbody>

  <mt:unless name="json">
      </table>
  </mt:unless>

<mt:else>

  <mt:if name="search">
      <mtapp:statusmsg
         id="search"
         class="info"
         can_close="0">
        <__trans phrase="Sorry, there were no results for your search. Please try searching again.">
      </mtapp:statusmsg>
  <mt:else>
      <mtapp:statusmsg
         id="no-data"
         class="info"
         can_close="0">
        <__trans phrase="Sorry, there is no data for this object set.">
      </mtapp:statusmsg>
  </mt:if>
</mt:if>

<mt:unless name="json">
    </form>
    <div class="text-right pagination" style="display: block;"></div>
  </div>
  <mt:if name="after_listing_panel">
  <div class="listing-panel-options">
    <mt:var name="after_listing_panel">
  </div>
  </mt:if>

<mt:setvarblock name="modal_footer">
  <div class="actions-bar actions-bar-bottom">
    <form action="" method="get" onsubmit="return false" onclick="window.focus();">
    <mt:if name="panel_last">
      <button
         type="submit"
         accesskey="s"
         title="<__trans phrase="OK (s)">"
         class="close-button action primary button disabled btn btn-primary"
         disabled="true">
        <__trans phrase="OK"></button>
    <mt:else>
      <button
         type="submit"
         accesskey="s"
         title="<__trans phrase="Continue (s)">"
         class="continue action primary button next btn btn-primary"
         disabled="true">
        <__trans phrase="Continue"></button>
    </mt:if>
    <mt:unless name="panel_first">
      <button
         type="submit"
         accesskey="b"
         title="<__trans phrase="Back (b)">"
         class="action previous button btn btn-default">
        <__trans phrase="Back"></button>
    </mt:unless>
      <button
         type="submit"
         accesskey="x"
         data-mt-modal-close
         class="cancel action button mt-close-dialog btn btn-default"
         title="<__trans phrase="Cancel (x)">">
        <__trans phrase="Cancel"></button>
    </form>
  </div>
</mt:setvarblock>

<mt:if name="use_page_content">
  </div>
  <div class="modal-footer">
    <mt:var name="modal_footer">
  </div>
</mt:if>

</div>
</mt:unless>
