name: Content Type
author_name: Six Apart, Ltd.
author_link: http://www.sixapart.com/
pack_link: <__trans phrase="http://www.sixapart.com/movabletype/">
version: 0.17
schema_version: 0.17
l10n_class: MT::ContentType::L10N

permissions: $ContentType::ContentType::Permission::permissions

callbacks:
    init_app: $ContentType::ContentType::App::CMS::init_app

    # TODO: should add other callbacks. these are probably insufficient.
    MT::ContentType::post_save: $ContentType::MT::ContentType::post_save
    MT::ContentType::post_remove: $ContentType::MT::ContentType::post_remove
    MT::ContentField::post_save: $ContentType::MT::ContentField::post_save
    MT::ContentField::post_remove: $ContentType::MT::ContentField::post_remove

applications:
    cms:
        callbacks:
            template_param.edit_role: $ContentType::ContentType::App::CMS::tmpl_param_edit_role
            cms_post_delete.content_data: $ContentType::ContentType::App::CMS::post_delete
        methods:
            cfg_content_field: $ContentType::ContentType::App::CMS::cfg_content_field
            save_cfg_content_field: $ContentType::ContentType::App::CMS::save_cfg_content_field
            delete_content_field: $ContentType::ContentType::App::CMS::delete_content_field
            cfg_content_type: $ContentType::ContentType::App::CMS::cfg_content_type
            save_cfg_content_type: $ContentType::ContentType::App::CMS::save_cfg_content_type
            # cfg_content_type_data: $ContentType::ContentType::App::CMS::cfg_content_type_data
            select_list_content_type: $ContentType::ContentType::App::CMS::select_list_content_type
            select_edit_content_type: $ContentType::ContentType::App::CMS::select_edit_content_type
            edit_content_data: $ContentType::ContentType::App::CMS::edit_content_data
            save_content_data: $ContentType::ContentType::App::CMS::save_content_data

            view_category_list: $ContentType::MT::CMS::CategoryList::view
        menus:
            content_type:
                label: Content Type
                order: 9100
            content_type:manage_content_type:
                label: Manage
                order: 100
                mode: list
                args:
                    _type: content_type
                permission:  administer_website,administer_blog
                view:
                    - website
                    - blog
            content_type:create_content_type:
                label: New
                mode: cfg_content_type
                order: 200
                view:
                    - website
                    - blog
            content_data:
                label: Content Data
                order: 9200
            content_data:manage_content_data:
                label: Manage
                order: 100
                mode: select_list_content_type
                view:
                    - website
                    - blog
            content_data:create_content_data:
                label: New
                mode: select_edit_content_type
                order: 200
                view:
                    - website
                    - blog

            category_list:
                label: Category Lists
                order: 9500
            category_list:manage:
                label: Manage
                order: 100
                mode: list
                condition: $ContentType::MT::CMS::CategoryList::manage_condition
                args:
                    _type: category_list
                view:
                    - website
                    - blog
            category_list:create:
                label: New
                order: 200
                mode: view
                permission: edit_categories
                args:
                    _type: category_list
                view:
                    - website
                    - blog

object_types:
    content_type: MT::ContentType
    cd: MT::ContentData
    content_data: MT::ContentData
    cf: MT::ContentField
    content_field: MT::ContentField
    content_field_index: MT::ContentFieldIndex
    cf_idx: MT::ContentFieldIndex
    objectcategory: MT::ObjectCategory

    category:
        category_list_id: integer
    category_list: MT::CategoryList

listing_screens: $ContentType::ContentType::ListProperties::make_listing_screens
list_properties: $ContentType::ContentType::ListProperties::make_list_properties
content_actions: $ContentType::ContentType::ListProperties::make_content_actions
list_actions: $ContentType::ContentType::ListProperties::make_list_actions
tags:
    block:
        Contents: $ContentType::ContentType::Tags::_hdlr_contents
        ContentAssets: $ContentType::ContentType::Tags::_hdlr_assets
        ContentTags: $ContentType::ContentType::Tags::_hdlr_content_tags
        ContentCategories: $ContentType::ContentType::Tags::_hdlr_content_categories
    function:
        Content: $ContentType::ContentType::Tags::_hdlr_content
        Entity: $ContentType::ContentType::Tags::_hdlr_entity

content_field_types:
    content_type:
        label: Content Type
        data_type: integer
        order: 10
        field_html: $ContentType::MT::ContentFieldType::ContentType::field_html
        data_getter: $ContentType::MT::ContentFieldType::ContentType::data_getter
        list_props:
            content_type:
                html: $ContentType::MT::ContentFieldType::ContentType::html
    single_line_text:
        label: Single Line Text
        data_type: varchar
        order: 20
        list_props:
            single_line_text:
                base: __virtual.string
                col: value_varchar
                terms: $ContentType::MT::ContentFieldType::SingleLineText::terms
                use_blank: 1
    multi_line_text:
        label: Multi Line Text
        data_type: blob
        order: 30
        list_props:
            multi_line_text:
                base: __virtual.string
                col: value_blob
                terms: $ContentType::MT::ContentFieldType::SingleLineText::terms
                use_blank: 1
    integer:
        label: Integer
        data_type: integer
        order: 40
        list_props:
            integer:
                filter_tmpl: <mt:var name="filter_form_blank_integer">
                terms: $ContentType::ContentType::ListProperties::terms_number
                use_blank: 1
    float:
        label: Float
        data_type: float
        order: 50
        list_props:
            float:
                filter_tmpl: <mt:var name="filter_form_blank_float">
                terms: $ContentType::ContentType::ListProperties::terms_number
                use_blank: 1
    url:
        label: URL
        data_type: varchar
        order: 60
        ss_validator: $ContentType::MT::ContentFieldType::URL::ss_validator
        list_props:
            url:
                base: __virtual.string
                col: value_varchar
                terms: $ContentType::MT::ContentFieldType::SingleLineText::terms
                use_blank: 1
    date_and_time:
        label: Date and Time
        data_type: datetime
        order: 70
        field_html: $ContentType::MT::ContentFieldType::DateTime::field_html
        data_getter: $ContentType::MT::ContentFieldType::DateTime::data_getter
        ss_validator: $ContentType::MT::ContentFieldType::DateTime::ss_validator
        list_props:
            date_and_time:
                filter_tmpl: $ContentType::MT::ContentFieldType::DateTime::filter_tmpl
                html: $ContentType::MT::ContentFieldType::DateTime::html
                terms: $ContentType::MT::ContentFieldType::DateTime::terms
                use_blank: 1
                use_future: 1
    date:
        label: Date
        data_type: datetime
        order: 80
        field_html: $ContentType::MT::ContentFieldType::Date::field_html
        data_getter: $ContentType::MT::ContentFieldType::Date::data_getter
        ss_validator: $ContentType::MT::ContentFieldType::Date::ss_validator
        list_props:
            date:
                filter_tmpl: $ContentType::MT::ContentFieldType::DateTime::filter_tmpl
                html: $ContentType::MT::ContentFieldType::Date::html
                terms: $ContentType::MT::ContentFieldType::DateTime::terms
                use_blank: 1
                use_future: 1
    time:
        label: Time
        data_type: datetime
        order: 90
        field_html: $ContentType::MT::ContentFieldType::Time::field_html
        data_getter: $ContentType::MT::ContentFieldType::Time::data_getter
        ss_validator: $ContentType::MT::ContentFieldType::Time::ss_validator
        list_props:
            time:
                filter_tmpl: $ContentType::MT::ContentFieldType::Time::filter_tmpl
                html: $ContentType::MT::ContentFieldType::Time::html
                terms: $ContentType::MT::ContentFieldType::Time::terms
                use_blank: 1
                use_future: 1
    select_box:
        label: Select Box
        data_type: varchar
        options: 1
        order: 100
        field_html: $ContentType::MT::ContentFieldType::SelectBox::field_html
        data_getter: $ContentType::MT::ContentFieldType::SelectBox::data_getter
        list_props:
            select_box:
                filter_tmpl: $ContentType::MT::ContentFieldType::SelectBox::filter_tmpl
                single_select_options: $ContentType::MT::ContentFieldType::SelectBox::single_select_options
                terms: $ContentType::MT::ContentFieldType::SelectBox::terms
    radio:
        label: Radio
        data_type: varchar
        options: 1
        order: 110
        field_html: $ContentType::MT::ContentFieldType::Radio::field_html
        list_props:
            radio:
                filter_tmpl: $ContentType::MT::ContentFieldType::SelectBox::filter_tmpl
                single_select_options: $ContentType::MT::ContentFieldType::Radio::single_select_options
                terms: $ContentType::MT::ContentFieldType::SelectBox::terms
    checkbox:
        label: Checkbox
        data_type: varchar
        options: 1
        order: 120
        field_html: $ContentType::MT::ContentFieldType::Checkbox::field_html
        data_getter: $ContentType::MT::ContentFieldType::Checkbox::data_getter
        list_props:
            checkbox:
                filter_tmpl: $ContentType::MT::ContentFieldType::SelectBox::filter_tmpl
                single_select_options: $ContentType::MT::ContentFieldType::Checkbox::single_select_options
                terms: $ContentType::MT::ContentFieldType::SelectBox::terms
    asset:
        label: Asset
        data_type: integer
        order: 130
        field_html: $ContentType::MT::ContentFieldType::Asset::field_html
        data_getter: $ContentType::MT::ContentFieldType::Asset::data_getter
        list_props:
            asset:
                filter_tmpl: $ContentType::MT::ContentFieldType::SelectBox::filter_tmpl
                html: $ContentType::MT::ContentFieldType::Asset::html
                single_select_options: $ContentType::MT::ContentFieldType::Asset::single_select_options
                sub_fields:
                    - class: thumbnail
                      label: Thumbnail
                      display: default
                terms: $ContentType::MT::ContentFieldType::SelectBox::terms
            author_name:
                base: __virtual.author_name
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_author_name
            author_status:
                base: author.status
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_author_status
            date_created:
                base: __virtual.date
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_created_on
            date_modified:
                base: __virtual.date
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_modified_on
            description:
                base: __virtual.string
                col: description
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_text
                use_blank: 1
            file_extension:
                base: __virtual.string
                col: file_ext
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_text
            filename:
                base: __virtual.string
                col: file_name
                display: none
                terms: $ContentType::MT::ContentFieldType::Asset::terms_text
            id:
                base: __virtual.integer
                col: id
                display: none
                terms: $ContentType::ContentType::ListProperties::terms_number
            missing_file:
                base: asset.missing_file
                terms: $ContentType::MT::ContentFieldType::Asset::terms_missing_file
            pixel_height:
                base: asset.image_height
                terms: $ContentType::MT::ContentFieldType::Asset::terms_image_size
            pixel_width:
                base: asset.image_width
                terms: $ContentType::MT::ContentFieldType::Asset::terms_image_size
            tag:
                base: __virtual.tag
                display: none
                tag_ds: asset
                tagged_class: *
                terms: $ContentType::MT::ContentFieldType::Asset::terms_tag
                use_blank: 1
    embed_text:
        label: Embed Text
        data_type: blob
        order: 140
        list_props:
            embed_text:
                base: __virtual.string
                col: value_blob
                terms: $ContentType::MT::ContentFieldType::SingleLineText::terms
                use_blank: 1
    category:
        label: Category
        data_type: integer
        order: 150
        field_html: $ContentType::MT::ContentFieldType::Category::field_html
        data_getter: $ContentType::MT::ContentFieldType::Category::data_getter
        list_props:
            category:
                col: label
                filter_tmpl: <mt:var name="filter_form_blank_string">
                html: $ContentType::MT::ContentFieldType::Category::html
                terms: $ContentType::MT::ContentFieldType::Category::terms
                use_blank: 1
    tag:
        label: Tag
        data_type: integer
        order: 160
        field_html: $ContentType::MT::ContentFieldType::Tag::field_html
        data_getter: $ContentType::MT::ContentFieldType::Tag::data_getter
        list_props:
            tag:
                col: name
                filter_tmpl: <mt:var name="filter_form_blank_string">
                html: $ContentType::MT::ContentFieldType::Tag::html
                terms: $ContentType::MT::ContentFieldType::Tag::terms
                use_blank: 1

